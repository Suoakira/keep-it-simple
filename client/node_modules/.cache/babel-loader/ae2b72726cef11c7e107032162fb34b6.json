{"ast":null,"code":"import _classCallCheck from \"/Users/home/Development/end_of_module_projects/module5/final_project/keep-it-simple/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/home/Development/end_of_module_projects/module5/final_project/keep-it-simple/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/home/Development/end_of_module_projects/module5/final_project/keep-it-simple/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/home/Development/end_of_module_projects/module5/final_project/keep-it-simple/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/home/Development/end_of_module_projects/module5/final_project/keep-it-simple/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/home/Development/end_of_module_projects/module5/final_project/keep-it-simple/client/src/components/exisitingplancard.js\";\nimport React, { Component } from 'react';\nimport API from \"../API\";\n\nvar exisitingPlanCard =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(exisitingPlanCard, _Component);\n\n  function exisitingPlanCard(props) {\n    var _this;\n\n    _classCallCheck(this, exisitingPlanCard);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(exisitingPlanCard).call(this, props));\n\n    _this.formatDate = function () {\n      var oneDay = 24 * 60 * 60 * 1000;\n      var date1 = new Date(Date.now());\n      var date2 = new Date(_this.props.savingTargets.end_date);\n      var daysToGo = Math.round(Math.abs((date2.getTime() - date1.getTime()) / oneDay));\n\n      if (daysToGo > 0) {\n        return Math.round(Math.abs((date2.getTime() - date1.getTime()) / oneDay));\n      } else {\n        return \"This plan has expired!\";\n      }\n    };\n\n    _this.noDaysBetween = function (date1, date2) {\n      var oneDay = 24 * 60 * 60 * 1000;\n      var daysToGo = Math.round(Math.abs((date2.getTime() - date1.getTime()) / oneDay));\n      return daysToGo;\n    };\n\n    _this.leftToSave = function () {};\n\n    _this.noDaysExpired = function () {};\n\n    _this.noDaysToGo = function () {\n      var currentDate = new Date(Date.now());\n\n      var daysToGo = _this.noDaysBetween(currentDate, _this.props.this.props.savingTargets.end_date);\n\n      if (daysToGo > 0) {\n        return daysToGo;\n      } else {\n        return \"This plan has expired!\";\n      }\n    };\n\n    _this.convertDateToString = function () {\n      return new Date(Date.parse(_this.props.savingTargets.start_date)).toDateString();\n    };\n\n    _this.state = {\n      userSavingTargets: undefined\n    };\n    return _this;\n  }\n\n  _createClass(exisitingPlanCard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:3000/api/v1/saving_targets/\".concat(this.props.savingTargets.id)).then(function (data) {\n        return data.json();\n      }).then(function (savingTs) {\n        return _this2.setState({\n          userSavingTargets: savingTs\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var userSavingTargets = this.state.userSavingTargets;\n      var savingTargets = this.props.savingTargets;\n      return React.createElement(\"div\", {\n        class: \"four wide colum\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"ui link cards\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"image\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: savingTargets.target_image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.state.userSavingTargets ? React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \" \", \"\".concat(this.noDaysToGo(), \" days to go to raise \\xA3\").concat(this.state.userSavingTargets.user_saving_targets[0].amount)) : React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"loading placeholder\"), React.createElement(\"div\", {\n        className: \"meta\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, savingTargets.category)), React.createElement(\"div\", {\n        className: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, savingTargets.name)), React.createElement(\"div\", {\n        className: \"extra content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"right floated\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Plan Launched \", this.convertDateToString()), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })))));\n    }\n  }]);\n\n  return exisitingPlanCard;\n}(Component);\n\nexport default exisitingPlanCard;","map":{"version":3,"sources":["/Users/home/Development/end_of_module_projects/module5/final_project/keep-it-simple/client/src/components/exisitingplancard.js"],"names":["React","Component","API","exisitingPlanCard","props","formatDate","oneDay","date1","Date","now","date2","savingTargets","end_date","daysToGo","Math","round","abs","getTime","noDaysBetween","leftToSave","noDaysExpired","noDaysToGo","currentDate","this","convertDateToString","parse","start_date","toDateString","state","userSavingTargets","undefined","fetch","id","then","data","json","savingTs","setState","target_image","user_saving_targets","amount","category","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport API from \"../API\"\n\nclass exisitingPlanCard extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            userSavingTargets: undefined\n         }\n    }\n\n    formatDate = () => {\n        const oneDay = 24 * 60 * 60 * 1000\n        const date1 = new Date(Date.now())\n        const date2 = new Date(this.props.savingTargets.end_date)\n        const daysToGo = Math.round(Math.abs((date2.getTime() - date1.getTime()) / (oneDay)))\n        if (daysToGo > 0) {\n            return Math.round(Math.abs((date2.getTime() - date1.getTime()) / (oneDay)))\n        } else {\n            return \"This plan has expired!\"\n        }\n    }\n\n    noDaysBetween = (date1, date2) => {\n        const oneDay = 24 * 60 * 60 * 1000\n        const daysToGo = Math.round(Math.abs((date2.getTime() - date1.getTime()) / (oneDay)))\n        return daysToGo\n    }\n\n    leftToSave = () => {\n\n    }\n\n    noDaysExpired = () => {\n\n    }\n\n    noDaysToGo = () => {\n        const currentDate = new Date(Date.now())\n        const daysToGo = this.noDaysBetween(currentDate, this.props.this.props.savingTargets.end_date)\n        if (daysToGo > 0) {\n            return daysToGo\n        } else {\n            return \"This plan has expired!\"\n        }\n    }\n\n    convertDateToString = () => \n         new Date(Date.parse(this.props.savingTargets.start_date)).toDateString()\n\n    componentDidMount() {\n        fetch(`http://localhost:3000/api/v1/saving_targets/${this.props.savingTargets.id}`)\n            .then(data => data.json())\n            .then(savingTs => this.setState({ userSavingTargets: savingTs }))\n    }\n\n    render() { \n        const { userSavingTargets } = this.state\n        const { savingTargets } = this.props\n            return (\n\n                <div class=\"four wide colum\">            \n                <div class=\"ui link cards\">\n                    <div className=\"card\">\n                        <div className=\"image\">\n                        <img src={savingTargets.target_image} />\n                        </div>\n                        <div className=\"content\">\n                                {this.state.userSavingTargets ?\n                                    <div className=\"header\"> {`${this.noDaysToGo()} days to go to raise Â£${this.state.userSavingTargets.user_saving_targets[0].amount}`}</div>\n                                :\n                                <p>loading placeholder</p>\n                                }\n                                <div className=\"meta\">\n                                <a>{savingTargets.category}</a>\n                                </div>\n                            <div className=\"description\">\n                                {savingTargets.name}\n                            </div>\n                        </div>\n                            <div className=\"extra content\">\n                                <span className=\"right floated\">\n                            Plan Launched {this.convertDateToString()}\n                            </span>\n                                <span>\n                                {/* {savingTargets.end_date} */}\n                            </span>\n                            </div>\n                    </div>\n                </div>\n            </div>\n        \n            )\n        \n         \n    }\n}\n \nexport default exisitingPlanCard;"]},"metadata":{},"sourceType":"module"}